<!DOCTYPE html>
<html>
<head>
    <title>14-Leg Parley Odds Calculator</title>
</head>
<body>
    <h1>14-Leg Parley Odds Calculator</h1>
    <form>
        <div>
            <h3>Enter Bet and Odds for Each User (Odds in American Format):</h3>
            <div id="betsContainer">
                <label>Tomas: <input type="text" id="tomas_bet" oninput="updateAndLock('tomas')"> <input type="number" id="tomas_odds" oninput="updateAndLock('tomas')"></label><br>
                <!-- Repeat for each user -->
            </div>
            <button type="button" onclick="resetFields()">Reset</button>
        </div>
    </form>

    <h2>Results</h2>
    <p id="totalOdds">Total Parley Odds: N/A</p>
    <p id="potentialReturn">Potential Return: N/A</p>
    <p id="roi">ROI: N/A</p>

    <script>
        const users = ["tomas", "harrison", "mojo", "chris", "patric", "daniel", "chatt", "dk", "nick", "parth", "sandia", "dylan", "rush", "alec"];

        function convertAmericanToDecimal(americanOdds) {
            return americanOdds > 0 ? (americanOdds / 100) + 1 : (100 / Math.abs(americanOdds)) + 1;
        }

        function calculateParley() {
            let totalOdds = 1;
            let betsEntered = false;

            users.forEach(user => {
                const odds = parseFloat(document.getElementById(`${user}_odds`).value);
                if (!isNaN(odds)) {
                    totalOdds *= convertAmericanToDecimal(odds);
                    betsEntered = true;
                }
            });

            if (!betsEntered) {
                document.getElementById('totalOdds').innerText = "Total Parley Odds: N/A";
                document.getElementById('potentialReturn').innerText = "Potential Return: N/A";
                document.getElementById('roi').innerText = "ROI: N/A";
                return;
            }

            const stake = 10;
            const potentialReturn = stake * totalOdds;
            const roi = ((potentialReturn - stake) / stake) * 100;

            document.getElementById('totalOdds').innerText = `Total Parley Odds: ${totalOdds.toFixed(2)}`;
            document.getElementById('potentialReturn').innerText = `Potential Return: $${potentialReturn.toFixed(2)}`;
            document.getElementById('roi').innerText = `ROI: ${roi.toFixed(2)}%`;
        }

        function updateAndLock(user) {
            calculateParley();
            const betField = document.getElementById(`${user}_bet`);
            const oddsField = document.getElementById(`${user}_odds`);

            if (betField.value && oddsField.value) {
                betField.disabled = true;
                oddsField.disabled = true;
                localStorage.setItem(`${user}_bet`, betField.value);
                localStorage.setItem(`${user}_odds`, oddsField.value);
                localStorage.setItem(`${user}_locked`, true);
            }
        }

        function resetFields() {
            users.forEach(user => {
                document.getElementById(`${user}_bet`).disabled = false;
                document.getElementById(`${user}_odds`).disabled = false;
                document.getElementById(`${user}_bet`).value = "";
                document.getElementById(`${user}_odds`).value = "";
                localStorage.removeItem(`${user}_bet`);
                localStorage.removeItem(`${user}_odds`);
                localStorage.removeItem(`${user}_locked`);
            });

            document.getElementById('totalOdds').innerText = "Total Parley Odds: N/A";
            document.getElementById('potentialReturn').innerText = "Potential Return: N/A";
            document.getElementById('roi').innerText = "ROI: N/A";
        }

        function restoreFields() {
            users.forEach(user => {
                const betValue = localStorage.getItem(`${user}_bet`);
                const oddsValue = localStorage.getItem(`${user}_odds`);
                if (betValue && oddsValue) {
                    document.getElementById(`${user}_bet`).value = betValue;
                    document.getElementById(`${user}_odds`).value = oddsValue;
                    document.getElementById(`${user}_bet`).disabled = true;
                    document.getElementById(`${user}_odds`).disabled = true;
                }
            });
        }

        window.onload = restoreFields;
    </script>
</body>
</html>
